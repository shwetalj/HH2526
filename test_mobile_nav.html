<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Nav Test</title>
    <link rel="stylesheet" href="shared-styles.css">
    <style>
        /* Force mobile view for testing */
        @media (min-width: 769px) {
            .mobile-menu-toggle {
                display: flex !important;
            }
        }
        
        /* Debug styles */
        .debug-info {
            position: fixed;
            bottom: 10px;
            left: 10px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            z-index: 10000;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <header id="header">
        <nav>
            <a href="#" class="logo">
                <span>üèõÔ∏è</span>
                <span>History Hackers #71494</span>
            </a>
            <ul class="nav-links" id="navLinks">
                <li><a href="#" class="nav-link active">Home</a></li>
                <li><a href="#" class="nav-link">Missions</a></li>
                <li><a href="#" class="nav-link">Tutorial</a></li>
                <li><a href="#" class="nav-link">Cheat Sheet</a></li>
            </ul>
            <button class="mobile-menu-toggle" id="mobileToggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </nav>
    </header>

    <div style="padding: 100px 20px;">
        <h1>Mobile Navigation Test Page</h1>
        <p>Click the hamburger menu (three bars) in the top right to test the mobile navigation.</p>
    </div>

    <div class="debug-info" id="debugInfo">
        <div>Toggle found: <span id="toggleStatus">checking...</span></div>
        <div>Nav found: <span id="navStatus">checking...</span></div>
        <div>Click count: <span id="clickCount">0</span></div>
        <div>Nav active: <span id="navActive">false</span></div>
    </div>

    <script>
        // Debug info
        const debugInfo = {
            toggleFound: false,
            navFound: false,
            clicks: 0
        };

        // Get elements
        const mobileToggle = document.getElementById('mobileToggle');
        const navLinks = document.getElementById('navLinks');
        
        // Update debug display
        document.getElementById('toggleStatus').textContent = mobileToggle ? 'YES' : 'NO';
        document.getElementById('navStatus').textContent = navLinks ? 'YES' : 'NO';
        
        if (mobileToggle && navLinks) {
            console.log('Both elements found, adding event listener');
            
            mobileToggle.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                
                debugInfo.clicks++;
                document.getElementById('clickCount').textContent = debugInfo.clicks;
                
                console.log('Click event fired, click #' + debugInfo.clicks);
                console.log('Before toggle - Toggle classes:', mobileToggle.className);
                console.log('Before toggle - Nav classes:', navLinks.className);
                
                mobileToggle.classList.toggle('active');
                navLinks.classList.toggle('active');
                
                console.log('After toggle - Toggle classes:', mobileToggle.className);
                console.log('After toggle - Nav classes:', navLinks.className);
                
                document.getElementById('navActive').textContent = navLinks.classList.contains('active');
            });
            
            // Also add touch event for mobile devices
            mobileToggle.addEventListener('touchstart', (e) => {
                console.log('Touch event fired');
            });
        } else {
            console.error('Elements not found!');
            console.error('mobileToggle:', mobileToggle);
            console.error('navLinks:', navLinks);
        }
        
        // Test if JavaScript is running
        console.log('JavaScript loaded and running');
        
        // Check viewport width
        console.log('Viewport width:', window.innerWidth);
        
        // Check if menu is visible
        setTimeout(() => {
            const toggleStyles = window.getComputedStyle(mobileToggle);
            console.log('Toggle display:', toggleStyles.display);
            console.log('Toggle visibility:', toggleStyles.visibility);
            
            const navStyles = window.getComputedStyle(navLinks);
            console.log('Nav display:', navStyles.display);
            console.log('Nav transform:', navStyles.transform);
        }, 100);
    </script>
</body>
</html>